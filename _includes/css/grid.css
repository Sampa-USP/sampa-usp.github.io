/* ===========================
   Paleta suave
=========================== */
:root{
  --card-bg: #e0e7f6;
  --card-bg-soft: #d3dbec;
  --card-border: rgba(3,10,28,.08);
  --card-shadow: 0 10px 24px rgba(3, 7, 18, .18);
  --title: #011023;
  --muted: #94a3b8;
}

/* ===========================
   Grid (3 colunas desktop)
=========================== */
.portfolio-flex-row{
  display:grid !important;
  grid-template-columns: repeat(3, minmax(260px, 1fr)) !important;
  gap: 28px !important;
  align-items:start;
  justify-items:stretch;
}
@media (max-width: 1024px){
  .portfolio-flex-row{ grid-template-columns: repeat(2, minmax(240px, 1fr)) !important; }
}
@media (max-width: 640px){
  .portfolio-flex-row{ grid-template-columns: 1fr !important; }
}

/* container confortável */
.container.portfolio-flex-grid{ max-width: 1200px; margin: 0 auto; }

/* ===== Resets contra legado (Bootstrap/tema antigo) ===== */
.portfolio-flex-item{ width:auto !important; margin:0 !important; float:none !important; display:block !important; }
.portfolio-item{ box-sizing:border-box; }

/* ===========================
   Card
=========================== */
.portfolio-item{
  position:relative;
  border:1px solid var(--card-border);
  border-radius:14px;
  background:var(--card-bg);
  overflow:hidden;
  box-shadow: var(--card-shadow);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.portfolio-item:hover{
  transform: translateY(-2px);
  box-shadow: 0 14px 28px rgba(3,7,18,.25);
  border-color: rgba(3,10,28,.16);
}

.portfolio-link{ display:block; color:inherit; text-decoration:none; }

/* Faixa do título */
.card-title{
  padding: 10px 14px 6px;
  background: linear-gradient(180deg, var(--card-bg-soft), transparent 85%);
  color: var(--title);
  font-weight: 800;
  letter-spacing: .02em;
  font-size: 1.1rem;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ===========================
   Área da imagem (CONTIDA)
=========================== */
.thumb{
  position:relative;
  aspect-ratio: 16 / 9;      /* todas iguais */
  width:100%;
  display:grid;
  place-items:center;
  background:
    radial-gradient(80% 80% at 50% 20%, rgba(0,0,0,.03), transparent 60%),
    #ffffff;
  padding:10px;               /* respiro */
  overflow:hidden;
  line-height:0;
  border-radius: 0 0 14px 14px; /* casa com o card */
}

/* --- AQUI ESTÁ O SEGREDO: vencer o Bootstrap --- */
.thumb img{
  width:100% !important;          /* ganha do .img-responsive */
  height:100% !important;         /* impede height:auto */
  max-width:none !important;      /* evita limitar só pela largura */
  object-fit: contain;            /* reduz para caber, sem cortar */
  object-position: center center; /* centraliza */
  display:block;
  border-radius:8px;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.20));
}

/* se a imagem tiver classes do tema, garantimos que obedeça a regra acima */
.portfolio-item img.img-responsive,
.portfolio-item img.img-centered{
  width:100% !important;
  height:100% !important;
  max-width:none !important;
}

/* Overlay discreto no hover (não cria bloco) */
.caption{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  background: radial-gradient(60% 60% at 50% 50%, rgba(0,0,0,.10), rgba(0,0,0,.30));
  opacity:0; transition:opacity .2s ease; pointer-events:none;
  border-radius: inherit;
}
.portfolio-link:hover .caption{ opacity:.85; }
.caption-content{ color:#fff; }

/* Reset contra estilos antigos do tema */
.portfolio-item .caption,
.portfolio-item .caption-content{ margin:0; padding:0; border:0; float:none; }